{% extends "base.njk" %}

{% block title %}Listado de autos{% endblock %}

{% block content %}
<section class="section">
  <div class="container.is-widescreen">
    <h1 class="title is-1">Our cars:</h1>
    {% if cars.length > 0 %}
      <div class="columns is-multiline">
        {% for car in cars %}
          <div class="column is-one-quarter">
            <div class="card">
              <div class="card-image">
                <figure class="image is-4by3">
                  <img class="car-image" src="/uploads/{{ car.image }}" alt="{{ car.brand }} {{ car.model }}">
                </figure>
              </div>
              <div class="card-content">
                <div class="media">
                  <div class="media-content">
                    <p class="title is-3 ">{{ car.brand }} {{ car.model }}</p>
                    <p class="subtitle is-4">{{ car.year }}</p>
                  </div>
                </div>
                <div class="buttons is-centered mt-3 are-normal">
                  <a href="/cars/{{ car.id }}" class="button is-primary">View</a>
                  <a href="/cars/edit/{{ car.id }}" class="button is-warning">Edit</a>
                    <button id="delete-btn" data-car-id="{{ car.id }}" class="button is-danger">Delete</button>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No hay autos registrados.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
